<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>손글씨 원고지</title>
</head>
    
 <body>
    <img src="1.jpg" alt="1" width="100px">
    <img src="2.jpg" alt="2" width="100px">
    <img src="3.jpg" alt="3" width="100px">
    <img src="4.jpg" alt="4" width="100px">
    <img src="5.jpg" alt="5" width="100px">
    <img src="6.jpg" alt="6" width="100px">
    <img src="7.jpg" alt="7" width="100px">
    <img src="8.jpg" alt="8" width="100px">
    <img src="9.jpg" alt="9" width="100px">
    <img src="10.jpg" alt="10" width="100px">
    <img src="11.jpg" alt="11" width="100px">
    <img src="12.jpg" alt="12" width="100px">
    <img src="13.jpg" alt="13" width="100px">
    <img src="14.jpg" alt="14" width="100px">
    <img src="15.jpg" alt="15" width="100px">
    <img src="16.jpg" alt="16" width="100px">
    <img src="17.jpg" alt="17" width="100px">
    <img src="18.jpg" alt="18" width="100px">
    <img src="19.jpg" alt="19" width="100px">
    <img src="20.jpg" alt="20" width="100px">
 </body>

    
    
    <div>
        <span style="display : inline-block">
    
        <p>
        
        
        <span id="seq"></span><input id="input_01" style="width: 100px; height: 35px; font-size: 15px;" type="text" value="1" autofocus="" />
        
        &nbsp;<button onclick="search();" style="width: 70px; height: 35px; font-size: 15px;"> 조회 </button>
        
    
        &nbsp;<button onclick="canvas.erase(); decrease(); search();" style="width: 70px; height: 35px; font-size: 15px;"> PREV </button>
    
        &nbsp;<button onclick="canvas.erase(); increase(); search();" style="width: 70px; height: 35px; font-size: 15px;"> NEXT </button>
          
        &nbsp;<canvas id="canvas" width="200" height="200" style="border: 2px solid; cursor: default;"></canvas>
    
    
        &nbsp;<button onclick="canvas.erase();" style="width: 70px; height: 35px; font-size: 15px;"> 지움 </button> 


        &nbsp;<button onclick="add();" style="width: 70px; height: 35px; font-size: 15px;"> 저장 </button> 
 
    
    
      
        
        
          <p>
    

    
            
            PenSize <span id="lineWidth">3</span><input type="range" id="penSize" min="1" max="30" value="3">
    
    
          <button onclick="canvas.erase(); clean();">Erase</button>
    
          <button onclick="canvas.undo()">Undo</button>
          <button onclick="canvas.redo()">Redo</button>
    
    
    
        </span>
    


    
    
    
        <script type="text/javascript" src="https://muckmool.github.io/OCR/handwriting.canvas.js"></script>
    
    
        <script type="text/javascript" defer>
          var canvas = new handwriting.Canvas(document.getElementById('canvas'), 3);
          var width = document.getElementById("demo").clientWidth
          canvas.cxt.canvas.width  = width < 200 ? width : 200;
          canvas.cxt.canvas.height = width < 200 ? width : 200;
          canvas.setCallBack(function(data, err) {
            if (err) throw err;
            else document.getElementById("result").innerHTML = "<font size = 15px>&nbsp" + data.slice(0,1) + "</font>";
          });
          canvas.set_Undo_Redo(true, true);
          var penSize = document.getElementById("penSize");
          penSize.addEventListener("mousemove", function() {
            document.getElementById("lineWidth").innerHTML = penSize.value;
          });
          penSize.addEventListener("change", function(){
            canvas.setLineWidth(penSize.value);
          });
    

    
          function increase(){
              
            input_01.value = String(Number(input_01.value) + 1);

            if(Number(input_01.value)>3) input_01.value = String(Number(input_01.value) - 1);


          };
    
          function decrease(){
            input_01.value = String(Number(input_01.value) - 1);

            if(Number(input_01.value)<1) input_01.value = String(Number(input_01.value) + 1);

          };
    
    

          function add(){

            console.log("start");

            var canvas = document.getElementById("canvas");

            var image2 = canvas.toDataURL("image/jpeg");
            const link = document.createElement("a");
            link.href = image2;
            link.download = "1.jpg";
            link.click();

            console.log("end");

          };

    
        </script>
      </div>
     
     
    
    <script>




    async function search() {
        
    var img = new Image();


    var fname = input_01.value  + ".jpg";
    //console.log(fname);

    img.src = fname;

    var canvas = document.getElementById("canvas");
        
        if (canvas.getContext) {
            var ctx = canvas.getContext("2d");

            ctx.drawImage(img, 0, 0, 200, 200);
        }

        setTimeout(function() {
        console.log('Works!');

        ctx.drawImage(img, 0, 0, 200, 200);
        recognizeFile(img);

        }, 10);

    }

    
    </script>
    


    
    
    