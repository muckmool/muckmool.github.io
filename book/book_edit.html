<html>

<script>

   arr = [".", ".","."];
       
    fetch('https://muckmool.github.io/book/nanjungilgi.json')
      .then((response) => response.json())
      .then((data) => { 
        
        let temp = data.book; 
        let max = temp.length;
        //console.log(max); 

        for (i = 0; i < max; i += 1) {
            arr.push(data.book[i].date);
            arr.push(data.book[i].hanja);
            arr.push(data.book[i].hangul);


        }  
    
      } 
    );

</script>



<script>

    function search()  {
        const resultElement1 = document.getElementById('result1');
        const resultElement2 = document.getElementById('result2');
        const resultElement3 = document.getElementById('seq');

        let i = resultElement3.value;
        i = parseInt(i);

        //console.log(i);

        let hanja_temp1 = arr[i*3 + 1];
        let hanja_temp2 = hanja_temp1.split('');
        const max = hanja_temp2.length;

        //console.log(max);

        let hangul_temp1 = arr[i*3 + 2];
        let hangul_temp2 = hangul_temp1.split('');

        let hanja_temp3 ="";

        for (j = 0; j < max; j += 1) {
             hanja_temp3 = hanja_temp3 + "<ruby>" + hanja_temp2[j] + "<rt>" + hangul_temp2[j] + "</rt>" + "</ruby>";
        }

        console.log(hanja_temp3);

        resultElement1.innerText = arr[i*3];
        resultElement2.innerHTML = hanja_temp3;
    }


    function next()  {
        const resultElement1 = document.getElementById('result1');
        const resultElement2 = document.getElementById('result2');
        const resultElement3 = document.getElementById('seq');

        let i = resultElement3.value;
        i = parseInt(i);

        i = i + 1;

        if((i*2+1) > arr.length) { i = i - 1; }

        //console.log(i);

        let hanja_temp1 = arr[i*3 + 1];
        let hanja_temp2 = hanja_temp1.split('');
        const max = hanja_temp2.length;

        //console.log(max);

        let hangul_temp1 = arr[i*3 + 2];
        let hangul_temp2 = hangul_temp1.split('');

        let hanja_temp3 ="";

        for (j = 0; j < max; j += 1) {
             hanja_temp3 = hanja_temp3 + "<ruby>" + hanja_temp2[j] + "<rt>" + hangul_temp2[j] + "</rt>" + "</ruby>";
        }

        console.log(hanja_temp3);

        resultElement1.innerText = arr[i*3];
        resultElement2.innerHTML = hanja_temp3;
    }


    function previous()  {
        const resultElement1 = document.getElementById('result1');
        const resultElement2 = document.getElementById('result2');
        const resultElement3 = document.getElementById('seq');

        let i = resultElement3.value;
        i = parseInt(i);

        i = i - 1;

        if(i < 1) { i = 1; }

        //console.log(i);

        let hanja_temp1 = arr[i*3 + 1];
        let hanja_temp2 = hanja_temp1.split('');
        const max = hanja_temp2.length;

        //console.log(max);

        let hangul_temp1 = arr[i*3 + 2];
        let hangul_temp2 = hangul_temp1.split('');

        let hanja_temp3 ="";

        for (j = 0; j < max; j += 1) {
             hanja_temp3 = hanja_temp3 + "<ruby>" + hanja_temp2[j] + "<rt>" + hangul_temp2[j] + "</rt>" + "</ruby>";
        }

        console.log(hanja_temp3);

        resultElement1.innerText = arr[i*3];
        resultElement2.innerHTML = hanja_temp3;
    }


</script>

        <p>SEQ <input type = "text" style="width:200px;height:40px;font-size:15px;" id="seq" value = 1>

           <input type='button' onclick='search()' value='search'/>
           <input type='button' onclick='previous()' value='previous'/>
           <input type='button' onclick='next()' value='next'/>

        <br><br>
        <p id="result1">.</p>
        <p id="result2" style="font-size:23px; font-weight: 900;">.</p>

</html>